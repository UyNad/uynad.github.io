---
title: DG_Clock：钟表主题地牢关卡留档
date: 2024-07-01
categories: 闸总自白
tags: 
- 关卡设计
cover: /images/20240701-dg-clock.png
toc: true
---

闲着无聊给《艾尔登法环2》画了个小地牢。

<!--more-->

---

如简介所示，法环玩得地牢瘾犯了，自己画了个小地牢。

<br/>

# 前言：法环本体和DLC地牢的区别

法环本体的地牢结构：进入地牢→找到开启BOSS房门的机关→打败BOSS→退出地牢。其中，BOSS房机关的设计五花八门，有简单放在隐藏门后的，也有藏在岩浆对面要玩家趟着过去的，更有放在特殊怪物身上打死才算数的。这些多样的设计带来了“甜蜜的烦恼”，玩家知道要找机关，但是对每个地牢的机关会是什么样几乎没有预期，有的时候闯关很顺利，有的时候被卡半个小时。

法环DLC的地牢结构：进入地牢→通过地牢第一层→通过地牢第二层→（如有第三层）通过地牢第三层→打败BOSS→退出地牢。和本体相比，DLC是“糖豆人式”大闯关，每个地牢的主题直接写在名字上，玩家只需要不断前进，找到继续向下的连接处，就可以顺利通关。这种设计保证了玩家的体验下限，但也压缩了上限。

这两种设计思路并不是说哪一种就更好，它们本就是不同的体验定位。非要批评的话，我认为在本体已经做了一大堆A思路地牢的情况下，DLC哪怕有自己的B思路，也该避免直接用同一个叫法（墓地/监牢）继续做。因为一个名词应该代表一种体验，它在本体里意味着A，到了DLC突然变成B，难免造成混乱。

<br/>

# 关卡概况

这个地牢以“修正钟表时间”为解开BOSS房门的线索，引导玩家走遍所有区域。

玩家主要目标是找到开BOSS房的正确时间，次要目标是拿齐三个重要奖励。主要目标完成后，玩家可以在1_Center中央大厅区域调整好BOSS房的钟表，从而开启BOSS房门，进入打BOSS。

<br/>

## 基本参数

| 地牢尺寸         | 165m*90m                                                     |
| :--------------- | ------------------------------------------------------------ |
| 区域数量         | 8                                                            |
| 开门所需机关数量 | 1                                                            |
| 重要奖励数量     | 3                                                            |
| 角色规格         | 会跳跃、翻滚和快跑的标准法环角色，UE内采用了LocomotionV4模板 |
| 战斗强度         | 中上                                                         |

<br/>

## 区域拓扑图

{% img "box px-0 py-0 ml-auto mr-auto" /images/20240701-dg-clock/topology.png 700 '"topology" "分成四层的区域连接关系"' %}

<br/>

## 制作流程

0. 纸面草图：在纸面上规划区域、区域连接及各个区域内的内容。SketchUp可以在配套软件Layout里画，但个人喜欢纸面，*因为更容易乱涂乱画*。
1. 白盒建模：基于0的草图进行实际建模。可以利用的工具有：SketchUp、Blender和UE。考虑到地牢为室内场景，整体尺寸较小，*且个人对SU有路径依赖*，最后还是SketchUp画的模型。
2. 模型导入：白盒绘制的过程中，可以阶段性导入引擎跑测。因为是SketchUp建模，所以需要经过SketchUp导出Dae→Blender处理为FBX→UE导入后添加碰撞的三个步骤。其中Blender可以安装个ToUE插件，一键同步到UE工程里，无需反复导入。
3. UE内精修：在基本结构不再改后，可以在UE内进一步精修。主要是①放置敌人 ②放置玩法点 ③布置引导物 ④布置装饰物 ⑤做成角色可跑项目 这几个方面。
4. （可选）美术场景制作：在第3步里，确认玩法流程完整可行后，可以用美术资源自己比照白盒结构搭建出场景。可以加深对“怎么画白盒才能更好看”的理解。这次没有做这一步。

<br/>

# 结构细分

地牢分为四层，从-1F到3F。每层之间的高度差在5~8m左右，因为连接方式多样，高度差并不规整。

其中，4_Clock区域可以从两个区域分别进入房梁和地面，只有从房梁才能进入地牢解密的关键信息房。

## 1F: 0_Entry-入口

 玩家入口，按照法环的设计做成了U字走廊，*目测是为了加载地牢。*

{% img "box px-0 py-0 ml-auto mr-auto" /images/20240701-dg-clock/entry.jpg 700 '"entry" ""' %}

<br/>

玩家进入中央大厅之前，就能看到一个重要奖励，设计上希望这个重要奖励引导玩家去找3F道路，同时”不小心“找到旁边的BOSS房解密机关。

<br/>

## 1F: 1_Center-中央大厅

中央大厅，连接四个区域，并且同时连接入口和BOSS房，以缩短玩家死亡后的跑图距离。

{% img "box px-0 py-0 ml-auto mr-auto" /images/20240701-dg-clock/center.png 700 '"center" ""' %}

<br/>

这个大厅主题是一条走廊，两边可掉落至3_Trap陷阱区域。走廊上有怪，陷阱区域有更多怪。如果玩家在走廊上战斗时跌落，就会遇到更多惊喜。

大厅入口正对着锁定的BOSS房门，告知玩家要解密的对象。大厅看似可以上到左右两边，但左手边只有远程怪，玩家可以不理，也可以上来杀掉。如果玩家上到左手边，就会在这里看到右手边有路，并且大厅正上方还有一层区域，还摆着一看就是用来解密的机关。

<br/>

## 2F: 2_Lang-走廊

走廊区域，从中央大厅的右手边进入。这是一条线性走廊，但是开了两个窗户，可以分别跳到4_Clock钟表区域和5_Block方块区域。其中，操作得当可以落在4_Clock钟表区域的房梁上，进入关键信息房。

{% img "box px-0 py-0 ml-auto mr-auto" /images/20240701-dg-clock/lang.png 700 '"lang" ""' %}

<br/>

走廊的尽头有个重要奖励房间，*阴险一点应当在宝箱对面放个大嘴小恶魔*，路上还有可破坏墙壁，后面是次要奖励。

<br/>

## 3F: 5_Block-方块

方块区域，从走廊第二扇窗户跳下进入。非常规整的方块房间，多放了点怪来校验战斗。

{% img "box px-0 py-0 ml-auto mr-auto" /images/20240701-dg-clock/block.png 700 '"block" ""' %}

<br/>

结束战斗后，玩家能在这个房间拿到从入口就能看到的重要奖励，并且旁边会通往解开BOSS房机关的6_Interact交互区域。哪怕玩家没看到这个重要区域，在拿重要奖励时，右手边就能通过玻璃看到，*不信玩家发现不了。*

<br/>

## 3F: 6_Interact-交互

交互区域，非常小，位于1_Center中央大厅的正上方，可以使用机关遥控BOSS房内的钟表，来调整时间。

{% img "box px-0 py-0 ml-auto mr-auto" /images/20240701-dg-clock/interact.png 700 '"interact" ""' %}

<br/>

这个区域最早在玩家进入1_Center中央大厅时就可以看到，最晚在玩家进入5_Block方块区域时也该看到了。如果玩家已经知道正确时间，就可以打开BOSS房门，然后跳下回到1_Center中央大厅，进入BOSS房区域。

如果不知道的话，就还是跳回1_Center中央大厅，找找正确时间要在哪里获取。

<br/>

## -1F: 3_Trap-陷阱

陷阱区域，位于1_Center中央大厅的正下方。玩家可以主动下坡到达，或者被动地被怪物打下去到达。

{% img "box px-0 py-0 ml-auto mr-auto" /images/20240701-dg-clock/trap.png 700 '"trap" ""' %}

<br/>

这个区域既要作为中央大厅的”意外之喜“战斗校验，又要连接4_Clock-钟表房作为其出口。为了安慰被暴打的玩家，同时给玩家强化”战斗越强奖励越多“的游玩预期，陷阱区域里也有一个重要奖励。

<br/>

## -1F: 4_Clock-钟表

钟表区域，存放解密关键信息的房间。

{% img "box px-0 py-0 ml-auto mr-auto" /images/20240701-dg-clock/clock.png 700 '"clock" ""' %}

<br/>

玩家可以从3_Trap陷阱区域进入，这条路只能进入钟表房的表层，玩家在打怪的时候会发现头顶还有路；同时，玩家也可以从2_Lang长廊区域落到Clock-钟表区域的房梁上，前进可以进入隐藏小房间，里面放着解密的关键信息：正确的时间。

*所谓正确时间，本质上就是一个密码，只是做成了钟表概念。*

有了正确时间后，就可以跳跃回到4_Clock钟表区域的表层，然后一路回到6_Interact-交互区域，调整时间机关后打开BOSS门。

<br/>

## 1F: 99_Final-BOSS

 BOSS区域，经典的走廊+恢复点+BOSS房设计。走廊用来烘托氛围，*外加BOSS房资源要预加载*。

{% img "box px-0 py-0 ml-auto mr-auto" /images/20240701-dg-clock/boss.png 700 '"boss" ""' %}

<br/>

玩家解开BOSS房所操控的大钟表，其实就在BOSS房内。虽然没有进一步战斗设计，但BOSS肯定得是个和钟表相关的BOSS。初步脑补里，BOSS是个会按照钟表时间严格执行指令的机械兵，BOSS战里钟表会启动并一直走，走到对应格子机械兵就执行对应指令并变形态。

当然，如果不做这么独特的BOSS，放个看着像钟表匠的BOSS然后用扳手砸人也OK。

<br/>

# 一点制作感想

1. SketchUp VSBlender：本来这次想用Blender画模型，但画着画着又用回SU了。其实只要模型能画出来，用什么工具有何区别？如果SU用着就是顺手，没必要硬换。*Blender还得再多学学，效率才能提上来。*
2. 这个地牢的主题是解密还是战斗：鉴于法环是ARPG，无论什么地牢都是得有战斗的，并且最终校验也一定是战斗。而对于钟表地牢，它虽然有个看起来很”解密“的主题，但利用方式其实就是找key开门，无非是场景表现上包了一层。本来想做的就是”带有解密表现的战斗地牢“，最终呈现的也是这个结果。
3. 从4_Clock到6_Interact太远了：如果先去拿时间再去开机关，所有区域就只需要走一次；但如果反过来，从Clock到Interact就是把所有区域重走一遍。只能说设计如此，因为法环地牢本身有很多就是要跑好几圈找线索的，所以我认为可以接受。要解决这个问题也有很多做法，最简单的比如Interact从Center加个可以踢落的梯子，让Center可以直接回到Interact。
4. 有没有更成熟的可跑模板？：AutoLocomotion模板不含战斗，而且镜头做得太”好“了，不大符合法环角色的预期。日后要维护个更好用的ARPG模板，以它为基准跑新的地牢，*假装在做《法环2》*。
5. 部分模块的尺寸不合适：门普遍太高了，柱子也太过于粗大，作为打光用的两串圆形玻璃洞也太高太大，从角色视角并不能很好看到”灯光横着打到表盘上“的感觉。应该事先更仔细测量下法环尺寸再做的，毕竟做的是想象中的《法环2》。

<br/>

