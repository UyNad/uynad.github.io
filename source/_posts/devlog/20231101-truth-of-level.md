---
title: 原神Like：大世界项目底层构建全流程
date: 2023-11-01
categories: 闸总自白
tags: 
- 关卡设计
- 开放世界
- 游戏开发
cover: /images/20231101-truth-of-level.jpg
toc: true
---
从零开始，构建提瓦特大陆的本质。

<!--more-->

___

这份文档会成为今年最长的一篇文档。字数上最长，信息量也最大。一年一度的工作总结时间到了，这篇文档里，本人会尽量介绍如何构建一套大世界项目底层，包括场景流送、工具流程、数值框架和策划分工等。

方法论所能概括的内容，在文本里都会介绍。但方法论之外，即**根据人主观能动性而摇摆的执行结果**，就要根据团队现况进行灵活调整了。

毕竟，“提瓦特”最终还是由人组成的世界；*就像原神的世界再大，最后也是卖角色的*。

<br/>



# 底层和规划：金字塔和倒金字塔


<br/>

## 充分了解项目已有功能



<br/>

## 底层与规划的思考区别 



<br/>

## 底层制作原则



<br/>

编辑器-客户端-服务器



<br/>

世界的划分标准



<br/>

场编信息数值化



<br/>

分布式逻辑

// entity的分布式逻辑会在下面展开

<br/>

# 流送加载底层构建


<br/>

## 什么是流送加载



<br/>

## 结合项目需求设计



<br/>

## demo验证和实装



<br/>

# 场编信息数值化的含义



<br/>

## point和trigger：描述关卡流



<br/>

## 场景和关卡需要同步推进的事项



<br/>

## 最终实现的数值化结构



<br/>

# 世界与实体：世界结构设计



<br/>

## 将世界进行模块化



<br/>

## 模块的实际设计案例



<br/>

## 世界和实体的唯一关系（GUID）



<br/>

## 反思:World和Group



<br/>

# 实体设计：玩法机关的本质



<br/>

## 结合“上下文”进行抽象



<br/>

## 机关的整体结构



<br/>

## 宝箱类和宝箱实例的关系



<br/>

## 举出制作的说服案例



<br/>

## 后续功能扩展做法



<br/>

# 玩法逻辑载体：如何让A和B发生关系
## 蓝图是什么
​      多入口、生命周期随entity、代码封装节点
## 分布式逻辑：World与Entity


## Entity蓝图的说服案例



## Extra:让策划写代码的坏处



# 关卡编辑器：图形化和协同合作



## 产品设计的原则



## 整体布局和编辑流程设计



## 数值划分和编辑器处理



## 实际流程中的定位

​	客户端&服务器确定功能，策划确定数值结构，和编辑器确定图形化方案，最后上线使用收集反馈



## 开发中的查漏补缺

多版本 编辑器校验 客户端校验 服务器校验 文件合并 定时推送



# 脑洞大开：前编辑器时代如何合作



## 交互地图工具案例



## 大世界项目的使用好处



## 接入工作流的方式



# 底层工作的交付标准



## 可以脱离主负责人“独立行走”

​	一套完善的KM且持续维护
​	接手人能get到底层和编辑器的设计理念
​	后续新模块可接入而不用处理老逻辑关系

## 可以满足当初的规划“大饼”开发   


## 大家满意，才是真的满意





<br/>